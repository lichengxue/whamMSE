% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/update_SPR_weights.R
\name{update_SPR_weights}
\alias{update_SPR_weights}
\title{Update SPR Weights for Spatially Explicit Assessment Models}
\usage{
update_SPR_weights(
  em_input,
  method = "equal",
  weight_years = 1,
  index_pointer = NULL
)
}
\arguments{
\item{em_input}{List. An input list for the estimation model (typically created by \code{make_em_input}).
Must include \code{em_input$data$agg_catch}, \code{em_input$data$fleet_regions}, and other standard data structures.}

\item{method}{Character. Specifies how weights are assigned to regions or stocks. Options include:
\describe{
  \item{\code{"equal"}}{Assigns equal weights across all stocks or regions (default).}
  \item{\code{"fleet_region"}}{Assigns weights based on average catch per region over the last \code{weight_years}. Requires complete fleet coverage across regions.}
  \item{\code{"index_region"}}{Assigns weights based on average index values over the last \code{weight_years}. Requires \code{index_pointer}.}
}}

\item{weight_years}{Integer. Number of years at the end of the time series over which to average catch or index values (default = 1).}

\item{index_pointer}{Integer. Index number used when \code{method = "index_region"}.}
}
\value{
An updated version of \code{em_input}, with SPR weighting information added to \code{em_input$data$SPR_weights}
and \code{em_input$data$SPR_weight_type}.
}
\description{
Updates the weights used to calculate spawning potential ratio (SPR)-based biological reference points
in spatially explicit assessment models. This function sets region- or stock-specific weights
for averaging metrics like weight-at-age and maturity-at-age in the reference point calculations.
}
\details{
This function is intended for use only in spatially explicit estimation models. It modifies the weighting applied
to regional data when computing spawning potential ratio (SPR) and associated reference points. The default method
applies equal weights, while alternative methods use historical catch or index data to determine weights dynamically.
}
